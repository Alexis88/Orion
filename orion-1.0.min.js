var $=ƒ=O=Orion=function(identificador){if(identificador){if(window===this)return new Orion(identificador);switch(identificador[0]){case"#":this.objeto=document.getElementById(identificador.substr(1));this.tipo=1;break;case".":this.objeto=document.getElementsByClassName?document.getElementsByClassName(identificador.substr(1)):document.querySelectorAll?document.querySelectorAll(identificador):function(identificador){var obj=[];Array.prototype.forEach.call(document.getElementsByTagName("*"),function(item){if(item.className==identificador.substr(1))obj.push(item)});return obj};this.tipo=2;break;default:this.objeto=document.getElementsByTagName(identificador);this.tipo=2;if(!this.objeto.length){var iden=identificador.tagName||identificador,lista=document.getElementsByTagName(iden.toLowerCase()),total=lista.length;for(i=0;i<total;i++)if(lista[i]===identificador){this.objeto=lista[i];this.tipo=1;break}}break}return this}};Orion.prototype={rotador:function(json){var aplicar=function(elObjeto){for(var j in json.imagenes){var img=document.createElement("img");img.src=json.imagenes[j];img.style.position="absolute";img.style.opacity=0;img.style.width=json.ancho;img.style.height=json.alto;img.style.borderRadius=json.bordeRedondeado=="si"?".4em":"0";elObjeto.appendChild(img)}var velocidad=1000;if(json.velocidad)switch(json.velocidad){case"lento":velocidad=5000;break;case"normal":velocidad=3000;break;case"rapido":velocidad=1500;break;default:velocidad=json.velocidad<0?json.velocidad*-1000:json.velocidad===0?1000:json.velocidad*1000;break}var imagenes=elObjeto.getElementsByTagName("img"),total=imagenes.length,contador=0;Orion.emerger(imagenes[contador],velocidad);var show=function(){Orion.atenuar(imagenes[contador],velocidad);contador=contador==total-1?0:++contador;Orion.emerger(imagenes[contador],velocidad)};setInterval(show,velocidad)}switch(this.tipo){case 1:aplicar(this.objeto);break;case 2:Array.prototype.forEach.call(this.objeto,aplicar);break}return this},valor:function(valor){switch(this.tipo){case 1:if(valor)if(/INPUT|TEXTAREA|SELECT-ONE/.test(this.objeto.tagName))this.objeto.value=valor;else this.objeto.innerHTML=valor;return this.objeto.value||this.objeto.innerHTML||this.objeto.innerText;break;case 2:var valores=[];Array.prototype.forEach.call(this.objeto,function(item){if(valor)if(/INPUT|TEXTAREA|SELECT-ONE/.test(item.tagName))item.value=valor;else item.innerHTML=valor;else valores.push(item.value||item.innerHTML||item.innerText)});return valores.length?valores:this;break}},enfoque:function(funcion){var aplicar=function(objeto){if(document.addEventListener)objeto.addEventListener("focus",funcion,false);else if(document.attachEvent)objeto.attachEvent("onfocus",funcion);else objeto.onfocus=funcion};switch(this.tipo){case 1:aplicar(this.objeto);break;case 2:Array.prototype.forEach.call(this.objeto,aplicar);break}return this},sinEnfoque:function(funcion){var aplicar=function(objeto){if(document.addEventListener)objeto.addEventListener("blur",funcion,false);else if(document.attachEvent)objeto.attachEvent("onblur",funcion);else objeto.onblur=funcion};switch(this.tipo){case 1:aplicar(this.objeto);break;case 2:Array.prototype.forEach.call(this.objeto,aplicar);break}return this},clic:function(funcion){var aplicar=function(objeto){if(document.addEventListener)objeto.addEventListener("click",funcion,false);else if(document.attachEvent)objeto.attachEvent("onclick",funcion);else objeto.onclick=funcion};switch(this.tipo){case 1:aplicar(this.objeto);break;case 2:Array.prototype.forEach.call(this.objeto,aplicar);break}return this},atenuar:function(velocidad){var aplicar=function(objeto){var valor=1,delta=velocidad=="rapido"?0.1:0.01,tiempo=velocidad=="rapido"?10:1,intervalo=setInterval(function(){valor-=delta;objeto.style.opacity=valor;if(valor<0){clearInterval(intervalo);objeto.style.display="none"}},tiempo)};switch(this.tipo){case 1:aplicar(this.objeto);break;case 2:Array.prototype.forEach.call(this.objeto,aplicar);break}return this},emerger:function(velocidad){var aplicar=function(objeto){if(objeto.style.display=="none"||(objeto.style.opacity.length&&Math.round(objeto.style.opacity)===0)){objeto.style.display="block";var valor=0,delta=velocidad=="rapido"?0.1:0.01,tiempo=velocidad=="rapido"?10:1,intervalo=setInterval(function(){valor+=delta;objeto.style.opacity=valor;if(valor>1){clearInterval(intervalo);objeto.style.display="block"}},tiempo)}};switch(this.tipo){case 1:aplicar(this.objeto);break;case 2:Array.prototype.forEach.call(this.objeto,aplicar);break}return this},prop:function(propiedad,valor){var aplicar=function(objeto){return valor?objeto.setAttribute(propiedad,valor):objeto.getAttribute(propiedad)};switch(this.tipo){case 1:return aplicar(this.objeto);break;case 2:return Array.prototype.forEach.call(this.objeto,aplicar);break}},serializar:function(){var query="";aplicar=function(objeto){if(objeto.tagName=="FORM"){Array.prototype.forEach.call(objeto.elements,function(elemento){query+=query.length?"&"+elemento.name+"="+elemento.value:elemento.name+"="+elemento.value});return query}else return objeto.name+"="+objeto.value};switch(this.tipo){case 1:return aplicar(this.objeto);break;case 2:return Array.prototype.forEach.call(this.objeto,aplicar);break}},enviar:function(callback){var aplicar=function(objeto){objeto.addEventListener("submit",callback,false)};switch(this.tipo){case 1:aplicar(this.objeto);break;case 2:Array.prototype.forEach.call(this.objeto,aplicar);break}return this},esNumerico:function(){var aplicar=function(objeto){return!isNaN(objeto.value)&&objeto.value.length?true:false};switch(this.tipo){case 1:return aplicar(this.objeto);break;case 2:return Array.prototype.forEach.call(this.objeto,aplicar);break}},esTexto:function(){var aplicar=function(objeto){return/^[a-zA-ZÁÉÍÓÚáéíóúÑñÜü]*$/g.test(objeto.value)&&objeto.value.length?true:false};switch(this.tipo){case 1:return aplicar(this.objeto);break;case 2:return Array.prototype.forEach.call(this.objeto,aplicar);break}},email:function(){var aplicar=function(objeto){return/^[\w\._-]+@[\w\.-]+\.[\w\.-]{2,3}(\.[\w\.-]{2,3})?$/.test(objeto.value.toLowerCase())&&objeto.value.length?true:false};switch(this.tipo){case 1:return aplicar(this.objeto);break;case 2:return Array.prototype.forEach.call(this.objeto,aplicar);break}},encima:function(entrada,salida){var aplicar=function(objeto){if(document.addEventListener){objeto.addEventListener("mouseover",entrada,false);objeto.addEventListener("mouseout",salida,false)}else if(document.attachEvent){objeto.attachEvent("onmouseover",entrada);objeto.attachEvent("onmouseout",salida)}else{objeto.onmouseover=entrada;objeto.onmouseout=salida}};switch(this.tipo){case 1:aplicar(this.objeto);break;case 2:Array.prototype.forEach.call(this.objeto,aplicar);break}return this},mouseEncima:function(funcion){var aplicar=function(objeto){if(document.addEventListener)objeto.addEventListener("mouseover",funcion,false);else if(document.attachEvent)objeto.attachEvent("onmouseover",funcion);else objeto.onmouseover=funcion};switch(this.tipo){case 1:aplicar(this.objeto);break;case 2:Array.prototype.forEach.call(this.objeto,aplicar);break}return this},mouseFuera:function(funcion){var aplicar=function(objeto){if(document.addEventListener)objeto.addEventListener("mouseout",funcion,false);else if(document.attachEvent)objeto.attachEvent("onmouseout",funcion);else objeto.onmouseout=funcion};switch(this.tipo){case 1:aplicar(this.objeto);break;case 2:Array.prototype.forEach.call(this.objeto,aplicar);break}return this},css:function(json){var aplicar=function(objeto){for(var i in json){switch(i){case"width":objeto.style.width=json[i].toString();case"height":objeto.style.height=json[i].toString();case"background":objeto.style.background=json[i].toString();case"top":objeto.style.top=json[i].toString();case"left":objeto.style.left=json[i].toString();case"right":objeto.style.right=json[i].toString();case"bottom":objeto.style.bottom=json[i].toString();case"position":objeto.style.position=json[i].toString();case"margin":objeto.style.margin=json[i].toString();case"margin-top":case"marginTop":objeto.style.marginTop=json[i].toString();case"margin-left":case"marginLeft":objeto.style.marginLeft=json[i].toString();case"margin-right":case"marginRight":objeto.style.marginRight=json[i].toString();case"margin-bottom":case"marginBottom":objeto.style.marginBottom=json[i].toString();case"padding":objeto.style.padding=json[i].toString();case"padding-top":case"paddingTop":objeto.style.paddingTop=json[i].toString();case"padding-left":case"paddingLeft":objeto.style.paddingLeft=json[i].toString();case"padding-right":case"paddingRight":objeto.style.paddingRight=json[i].toString();case"padding-bottom":case"paddingBottom":objeto.style.paddingBottom=json[i].toString();case"border":objeto.style.border=json[i].toString();case"border-radius":case"borderRadius":objeto.style.borderRadius=json[i].toString();case"box-shadow":case"boxShadow":objeto.style.boxShadow=json[i].toString();case"color":objeto.style.color=json[i].toString();case"transition":objeto.style.transition=json[i].toString();case"text-align":case"textAlign":objeto.style.textAlign=json[i].toString();case"text-decoration":case"textDecoration":objeto.style.textDecoration=json[i].toString();case"line-height":case"lineHeight":objeto.style.lineHeight=json[i].toString();case"font-family":case"fontFamily":objeto.style.fontFamily=json[i].toString();case"font-size":case"fontSize":objeto.style.fontSize=json[i].toString();case"font-weight":case"fontWeight":objeto.style.fontWeight=json[i].toString();case"font-style":case"fontStyle":objeto.style.fontStyle=json[i].toString();case"display":objeto.style.display=json[i].toString();case"vertical-align":case"verticalAlign":objeto.style.verticalAlign=json[i].toString();case"list-style":case"listStyle":objeto.style.listStyle=json[i].toString();case"cursor":objeto.style.cursor=json[i].toString();case"z-index":case"zIndex":objeto.style.zIndex=json[i].toString();case"opacity":objeto.style.opacity=json[i].toString();case"visibility":objeto.style.visibility=json[i].toString();case"float":objeto.style.float=json[i].toString()}}};switch(this.tipo){case 1:aplicar(this.objeto);break;case 2:Array.prototype.forEach.call(this.objeto,aplicar);break}return this},clase:function(nombreClase){var aplicar=function(objeto){if(!nombreClase)return objeto.className||false;return objeto.className=nombreClase};switch(this.tipo){case 1:return aplicar(this.objeto);break;case 2:return Array.prototype.forEach.call(this.objeto,aplicar);break}},adherir:function(elementos){var aplicar=function(objeto){for(var i in elementos)objeto.appendChild(elementos[i])};switch(this.tipo){case 1:aplicar(this.objeto);break;case 2:Array.prototype.forEach.call(this.objeto,aplicar);break}return this}};Orion.ajax=function(json){var xhr=window.XMLHttpRequest?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP")||new ActiveXObject("Msxml2.XMLHTTP"),uri=json.uri,datos=json.datos,metodo=json.metodo,tipo=json.tipo,espera=json.espera,exito=json.exito,error=json.error;uri=metodo.toUpperCase()=="GET"?uri+"?"+datos:uri;datos=metodo.toUpperCase()=="GET"?null:datos;xhr.open(metodo||"GET",uri,true);xhr.onreadystatechange=function(){if(xhr.readyState<4){if(espera)espera()}else{var retorno=function(){switch(xhr.status){case 200:exito(/HTML|JSON/.test(tipo)||!tipo?xhr.responseText:xhr.responseXML);break;case 404:error("La dirección brindada no existe");break;default:error("Error: "+xhr.status);break}};if(espera)setTimeout(retorno,2000);else retorno()}};xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");xhr.send(datos)};Orion.primero=function(array){return array[0]};Orion.ultimo=function(array){return array.pop()};Orion.agregar=function(array,elementos){if(elementos)if(typeof elementos!=="object")array.push(elementos);else for(var i in elementos)array.push(elementos[i]);return array};Orion.quitar=function(array,viejos,nuevos){if(viejos)if(typeof viejos!=="object"){var pos=array.indexOf(viejos);if(pos>-1)array.splice(pos,1)}else for(var i in viejos)while(array.indexOf(viejos[i])>-1){var pos=array.indexOf(viejos[i]);if(pos>-1)array.splice(pos,1)}if(nuevos)if(typeof nuevos!=="object")array.push(nuevos);else for(var i in nuevos)array.push(nuevos[i]);return array};Orion.copiar=function(array,inicial,final){var i=array.indexOf(inicial),f=array.indexOf(final);if(i>-1&&f>-1)return array.slice(array.indexOf(inicial),array.indexOf(final)+1);else if(i>-1&&f==-1||!final)return array.slice(array.indexOf(inicial));else return array.slice()};Orion.ordenarAsc=function(array){return array.sort()};Orion.ordenarDesc=function(array){return array.sort(function(a,b){return b-a})};Orion.juntar=function(array,union){return union?array.join(union):array.join()};Orion.separar=function(array,union){return union?array.split(union):array}
